{% extends 'layout.html' %}

{% block title %}
             Professioanl
          {% endblock %}  
{% include 'navbar_professional.html' %}

 {% block content %} 
 <div style="text-align: right; margin:auto;"><a href="#">Profile details</a></div>
 <div style="text-align: right;"><a href="#">View/Edit</a></div>
  
 
 <!-- Services  -->

 <div class="container">
  <h3 class="center" style="margin-top:40px; margin-bottom:40px;">Today Services</h3>
</div>


<table class="table table-bordered">
  <thead>
    <tr>
      <th scope="col">ID</th>
      <th scope="col">Customer Name</th>
      <th scope="col">Date Time</th>
      <th scope="col">Address</th>
      <th scope="col">Pincode</th>
      <th scope="col">Action</th>
    </tr>
  </thead>
  <tbody>
  
    <!-- =====================for accepted services by Professional====================== -->
    {% for service in active_services %}
    <tr>
      <th scope="row">{{service.id}}</th>
      <td>{{service.user.name}}</td>
      <td>{{service.date_time_created.strftime('%Y-%m-%d %H:%M:%S')}}</td>
      <td>{{service.user.address}}</td>
      <td>{{service.user.pincode}}</td>
      <!-- service.id belongs to running pending services -->
      <td><button type="button" class="btn btn-success btn-sm">Accepted</button></td>
    </tr>
    {% endfor %}


     
  </tbody>
</table>


<!-- Service Requests -->

<div class="container">
  <h3 class="center" style="margin-top:40px; margin-bottom:40px;">Service Requests</h3>
</div>

<table class="table table-bordered">
  <thead>
    <tr>
      <th scope="col">ID</th>
      <th scope="col">Customer Name</th>
      <th scope="col">Date Time</th>
      <th scope="col">Address</th>
      <th scope="col">Pincode</th>
      <th scope="col">Action</th>
    </tr>
  </thead>
  <tbody>
    {% for service in services %}
    <tr>
      <th scope="row">{{service.id}}</th>
      <td>{{service.user.name}}</td>
      <td>{{ service.date_time_created.strftime('%Y-%m-%d %H:%M:%S') }}</td>
      <td>{{service.user.address}}</td>
      <td>{{service.user.pincode}}</td>
      <!-- service.id belongs to running pending services -->
      <td><a href="/professional/{{sid}}/{{user}}/accept/{{service.id}}" type="button" class="btn btn-success btn-sm">Accept</a></td>
    </tr>
    {% endfor %}
  </tbody>
</table>



<!-- Closed Services -->

<div class="container">
  <h3 class="center" style="margin-top:40px; margin-bottom:40px;">Closed Services</h3>
</div>





<table class="table table-bordered">
  <thead>
    <tr>
      <th scope="col">ID</th>
      <th scope="col">Customer Name</th>
      <th scope="col">Date Time Requested</th>
      <th scope="col">Date Time Closed</th>
      <th scope="col">Address</th>
      <th scope="col">Pincode</th>
      <th scope="col">Status</th>
    </tr>
  </thead>
  <tbody>
    {% for service in closed_services %}
    <tr>
      <th scope="row">{{service.id}}</th>
      <td>{{service.user.name}}</td>
      <td>{{service.date_time_created}}</td>
      <td>{{service.date_time_closed}}</td>
      <td>{{service.user.address}}</td>
      <td>{{service.user.pincode}}</td>
      <!-- service.id belongs to running pending services -->
      <td><button  type="button" class="btn btn-info btn-sm">Completed</button></td>
    </tr>
    {% endfor %}
  </tbody>
</table>




   
 {% endblock %}